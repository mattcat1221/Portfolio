"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{85716:function(e,l,t){var i=t(5152),s=t.n(i);l.Z=s()(()=>t.e(7657).then(t.bind(t,47657)),{loadableGenerated:{webpack:()=>[47657]}}),s()(()=>t.e(7657).then(t.bind(t,47657)).then(e=>e.StyledNoResults),{loadableGenerated:{webpack:()=>[47657]}})},33004:function(e,l,t){t.r(l),t.d(l,{default:function(){return Y}});var i=t(85893),s=t(38972),n=t(67294),a=t(60441),o=t(86800),r=t(16863),d=t(26315),u=t(87212),c=t(77522),h=t(16980),g=t(75459),v=t(49053),p=t(50564),m=t(85716),f=t(48082),y=t(32954),_=t(28477),x=t(31401),Z=t(4061),b=t(31024),w=t(45697),S=t.n(w),j=t(88095),E=t(76219),k=t(55202),C=t(49092),M=t(50223);let A=(0,j.ZP)(M.Z).attrs({as:"a",$family:"medium",$fontSize:"14px"}).withConfig({componentId:"sc-78208f79-0"})(["cursor:pointer;margin-top:8px;"]),T=j.ZP.div.withConfig({componentId:"sc-78208f79-1"})(["display:flex;margin-top:40px;margin-bottom:12px;max-width:100%;width:100%;.image-wrapper{height:80px;background:",";margin-right:16px;img{max-width:100%;}}","{display:flex;flex-direction:column;align-self:center;font-size:18px;","{font-size:17px;}","{font-size:16px;}}","{margin-top:12px;align-self:flex-start;font-size:14px;}"],(0,E.rS)("palette.imageTeaser.placeholder"),M.Z,C.PJ,C.Mq,A),N=e=>{let{imageSrc:l,imageAlt:t,width:s,...n}=e;return(0,i.jsxs)(T,{...n,children:[(0,i.jsx)("div",{className:"image-wrapper",children:l&&(0,i.jsx)("img",{alt:t,src:l,height:"80",width:s})}),(0,i.jsxs)(M.Z,{$family:"base",children:[(0,i.jsx)(k.c,{i18nKey:"similarimage-001",children:"Similar images"}),(0,i.jsx)(A,{onClick:e=>{e.preventDefault(),window.history.back()},children:(0,i.jsx)(k.c,{i18nKey:"similarimage-002",children:"Back"})})]})]})};N.propTypes={imageAlt:S().string.isRequired,imageSrc:S().string.isRequired};var R=t(71057),I=t(2408),G=t(8394),O=t(21928),z=t(69211),F=t(83047),L=t(94621),P=t(12397),$=t(84815),D=t(9884),B=t(54857),K=t(77673),U=t(28332),q=t(31841),H=t(98719),Q=t(41501),W=t(28082),J=t(63799),V=t(8468),Y=e=>{var l,t,w,S,j,E,C,A,T,Y,X,ee,el;let{user:et,userIsFetched:ei,searchQueries:es,searchTerm:en,topicEntity:ea,topicEntityIsFetched:eo,topicEntityIsLoading:er,feed:ed,hasSimilarImage:eu,similarImageQuery:ec,seoLoaded:eh,blurb:eg,blurbTitlePart:ev,setShowSearchDrawer:ep,showSearchDrawer:em,setMobileFiltering:ef,setMobileFilterCount:ey,isBoostPage:e_,handleBoostSearch:ex,sidebarState:eZ,searchTermIsSpam:eb=!1,showcasedImages:ew,showcasedImagesLoading:eS=!1,isDesktop:ej,hasHydrated:eE}=e,ek=(0,k.$)(),{queries:eC}=(0,Q.Z)(),{showRawpixelTeam:eM}=(0,q.ZP)(),eA=(0,D.I8)(),eT=(0,B.EC)(),eN=(0,V.C_)(et,eM),[eR,eI]=(0,n.useState)(!0),{data:eG,isSuccess:eO}=ed,ez=ed.isPending||eS;(0,n.useEffect)(()=>{!ez&&et&&eT.isReady&&eI(!1)},[ez,et,eT.isReady]);let eF=(null===(t=ec.data)||void 0===t?void 0:null===(l=t.results)||void 0===l?void 0:l.length)&&(null===(w=ec.data.results[0])||void 0===w?void 0:w.id)?null===(S=ec.data)||void 0===S?void 0:S.results[0]:null,eL=eu&&(null==eF?void 0:eF.metadata)?null==eF?void 0:eF.metadata.description:"",eP=eu&&eF?Math.round((null==eF?void 0:eF.display_image_width)/(null==eF?void 0:eF.display_image_height)*80):0,e$=eu&&eF?eP>400?(0,P._N)(eF,500):eP>300?(0,P._N)(eF,400):eP>200?(0,P._N)(eF,300):(0,P._N)(eF,200):void 0,{results:eD,total:eB,rpa:eK,pinterest_totals:eU}=eG||{},{page:eq,totalPages:eH,pageSize:eQ}=(0,n.useMemo)(()=>(0,V.zo)(es,eG),[eG,es]),eW=(null==eU?void 0:eU.user_remaining)||0,eJ=(null==eG?void 0:eG.spellcheck_result)&&!!(null==eG?void 0:null===(j=eG.spellcheck_result)||void 0===j?void 0:j.suggested_key),[eV,eY]=(0,n.useState)(!1),[eX,e0]=(0,n.useState)(!0),e1=(0,n.useCallback)(e=>{!0===e||!1===e?eY(e):eY(e=>!e)},[]),e8=n.useMemo(()=>{let{isActiveEntityFetching:e}=eZ;return!e},[eZ]),e7=ej||!eE;(0,n.useEffect)(()=>{(0,_.Q5)()},[eV,e7]),(0,n.useEffect)(()=>{eE&&eX&&ei&&e0(!1)},[eC.topic_group,eC.topic,eX,eE,ea,ei]);let e4=(0,n.useMemo)(()=>{var e;return eE&&((null==en?void 0:en.length)||(null==eK?void 0:null===(e=eK.image)||void 0===e?void 0:e.length))?(0,L.x)(JSON.stringify({keys:en||"",sortedKeys:(null==eK?void 0:eK.image)||""})):null},[en,null==eK?void 0:eK.image,eE]),e2=eh&&!ea&&!eu,e5=(0,n.useCallback)(()=>ep(!1),[ep]),{pathQuery:e3}=eZ||{},e6=(0,n.useMemo)(()=>{var e,l;return(null===(e=((null==e3?void 0:null===(l=e3.getFilters)||void 0===l?void 0:l.call(e3,"tag","tags_or","color","theme","hearted"))||[]).filter(e=>!("tag"===e.type&&Object.keys(U.s.elements).includes(e.value))).map(e=>e.valueArray()).flat())||void 0===e?void 0:e.length)||0},[e3]);(0,n.useEffect)(()=>{e7||(ey(e6),ef(e6>0))},[e7,e6,ef,null==ea?void 0:ea.id,ey]),(0,s.K)(()=>{var e;ei&&et&&(null==eK?void 0:null===(e=eK.image)||void 0===e?void 0:e.length)&&eO&&eA("search",et,{keys:en&&(null==en?void 0:en.length)?eb?eK.search:en:eK.image,total:eB,sortedKeys:eK.image,parameters:es}).then().catch()},[et,ei,en,null==eK?void 0:eK.image,eO,eB,es,eb]),(0,n.useEffect)(()=>{ei&&et&&(null==ea?void 0:ea.id)&&eA("topicview",et,{topicId:ea.id,topicType:ea.entity_type,viewmode:"search",topicTag:ea.tag}).then().catch()},[et,ei,null==ea?void 0:ea.id,null==ea?void 0:ea.tag,null==ea?void 0:ea.entity_type,eA]),(0,n.useEffect)(()=>{eG&&ei&&eq&&eO&&eA("feed",et,{feed:"search_feed",action:"view",value:(null==eK?void 0:eK.image)||"",page:eq,total:eB||0}).then().catch()},[et,ei,null==eK?void 0:eK.image,eq,eG,eB,eO,eA]);let[e9,le]=n.useMemo(()=>{if(!(null==ea?void 0:ea.type)&&!(null==ea?void 0:ea.id))return[null,null];let e=(0,H.S)({widgets:ea.widgets,title:ea.title,title_long:ea.title_long},null,"title");return ea.published||(e="".concat(e," (unpublished)")),[e,ea.seo_description]},[null==ea?void 0:ea.id,null==ea?void 0:ea.published,null==ea?void 0:ea.seo_description,null==ea?void 0:ea.title_long,null==ea?void 0:ea.title,null==ea?void 0:ea.type,null==ea?void 0:ea.widgets]),ll=(0,n.useMemo)(()=>{if(e_||!(null==ea?void 0:ea.type))return!1;if("topic_group"===ea.type&&ea.show_new_button)return!0;if("topic"===ea.type){var e,l;let t=new $.Z(eC.path).getLastOfType("group");if((null==t?void 0:t.id)&&(null===(l=ea.widgets)||void 0===l?void 0:null===(e=l[t.id])||void 0===e?void 0:e.show_new_button))return!0}return!1},[e_,null==ea?void 0:ea.type,null==ea?void 0:ea.show_new_button,null==ea?void 0:ea.widgets,eC.path]),lt=(0,n.useMemo)(()=>{if(!eE||!ei||!eT.isReady||er)return{visibility:J.A}},[eE,er,ei,eT.isReady]),li=(0,n.useMemo)(()=>{if(!ei||!eT.isReady||!eE||er||ez&&(eR||ll))return{visibility:J.A}},[eE,ei,er,ez,eR,ll,eT.isReady]),ls=(0,n.useMemo)(()=>eE&&(null==eD?void 0:eD.length)>6&&!eu&&!e_&&!ea,[eE,null==eD?void 0:eD.length,eu,e_,ea]),ln=(0,n.useMemo)(()=>{if(ls)return(0,K.Z)(ek).map(e=>({...e,action:{...e.action}})).sort(()=>Math.random()-.5).slice(0,4)},[ls,ek]);return(0,i.jsxs)(i.Fragment,{children:[!e_&&ei&&eT.isReady&&!e7&&!ea&&!er&&(0,i.jsx)(R.Z,{defaultTab:"elements",mobileToolEnabled:eN}),(0,i.jsxs)("div",{className:"search-content",children:[(0,i.jsxs)(g.N4,{className:"results",style:lt,children:[(0,i.jsx)(d.Z,{searchEntity:ea,searchValue:en,className:"search-wrapper",onImageSearch:e_?ex:null}),!eb&&!eJ&&!ea&&!er&&!e_&&!e7&&(null==en?void 0:en.length)>0&&(0,i.jsxs)(g.N4,{className:"mobile-seo-description",translate:"no",children:[(0,i.jsx)(M.Z,{as:"h1",$family:"medium",$capitalize:!0,$fontSize:"32px",$textAlign:"center",children:en}),(null==eg?void 0:eg.length)>0&&(0,i.jsx)(Z.B,{blurbTitlePart:ev,blurb:eg})]}),e_&&(0,i.jsx)(f.Z,{}),!e_&&(!!ea||!eE||!eo)&&(0,i.jsx)(r.Z,{title:e9,seoDescription:le,entity:ea,analyticsOrigin:"search_header"}),eu&&!!e$&&(0,i.jsx)(N,{imageSrc:e$,imageAlt:eL,width:eP}),eE&&!!et&&eJ&&(0,i.jsx)("div",{className:"spellcheck-result",translate:"no",children:(0,i.jsxs)(M.Z,{$family:"base",$fontSize:"16px",children:["No results".concat(eb?"":' for "'.concat((null==eG?void 0:null===(E=eG.spellcheck_result)||void 0===E?void 0:E.searched_key)||"",'"'),". Did you mean "),(0,i.jsx)(M.Z,{as:v.Z,$family:"medium",pathname:"/".concat(e_?"boost":"search","/").concat((null==eG?void 0:null===(C=eG.spellcheck_result)||void 0===C?void 0:C.suggested_key)||""),extra:"".concat(F.Z.COMMON.SORT,"=curated&").concat(F.Z.COMMON.PAGE,"=1"),children:(null==eG?void 0:null===(A=eG.spellcheck_result)||void 0===A?void 0:A.suggested_key)||""}),"?"]})}),!!ea&&eM&&!!(null==et?void 0:null===(T=et.access)||void 0===T?void 0:T.show_rawpixel_team)&&eE&&(0,i.jsx)(a.Z,{entity:ea}),!!ea&&(null==ea?void 0:null===(Y=ea.assigned_artists)||void 0===Y?void 0:Y.length)>0&&(0,i.jsx)(h.Z,{className:"story-collaborators",children:ea.assigned_artists.map((e,l)=>{var t;return(0,i.jsx)(c.Z,{className:"story-collaborator",profile:e,showName:(null===(t=ea.assigned_artists)||void 0===t?void 0:t.length)===1},l)})}),!eu&&(0,i.jsx)(b.Z,{topicEntity:ea,showSearchFilters:!0,showDefaultFilters:e8,showSidebarCollapseButton:!0,onSidebarCollapseClick:e1,isCollapsed:eV,currentTagsQuery:es[F.Z.IMAGE.TAGS]||"",queries:es,urlQueries:eC,pathname:"/".concat(e_?"boost":"search").concat((null==en?void 0:en.length)?"/".concat(encodeURIComponent(en)):"")}),(!!(null==eD?void 0:eD.length)||ez)&&(0,i.jsx)(o.Z,{entity:ea,config:e_&&x.zT||x.Vs,images:eD,showcasedImages:ew,analyticsSearchData:e4,showCreateButton:ll,style:li,creativeCards:ln}),eO&&!e_&&!(null==eD?void 0:eD.length)&&!ez&&(0,i.jsx)(i.Fragment,{children:es[F.Z.COMMON.FLAGGED_BY]&&(null==et?void 0:et.uid)===0?(0,i.jsx)(p.Z,{type:"favorites-logged-out"}):(0,i.jsx)(p.Z,{type:"image",rawSearchTerm:eb?"":en})}),e_&&eO&&!(null==eD?void 0:eD.length)&&!ez&&(0,i.jsx)(m.Z,{type:"pinterest-boost"}),(0,i.jsxs)("div",{className:"search-footer",children:[(0,i.jsx)(y.Z,{page:eq,hideNext:eq*eQ>=z.E7,pageSize:eQ,disabled:ez,totalPages:eH,totalResults:e_?eW:eB,resultsSearch:eJ?null==eG?void 0:null===(X=eG.spellcheck_result)||void 0===X?void 0:X.suggested_key:eb?"":en,boost:e_&&!ez&&!!eB,pathname:"/".concat(e_?"boost":"search").concat(eJ?"/".concat(encodeURIComponent(null==eG?void 0:null===(ee=eG.spellcheck_result)||void 0===ee?void 0:ee.suggested_key)):(null==en?void 0:en.length)?"/".concat(encodeURIComponent(en)):""),style:lt}),!e7&&!eu&&!!eB&&!ez&&(0,i.jsx)(b.Z,{topicEntity:ea,showSearchFilters:!1,currentTagsQuery:es[F.Z.IMAGE.TAGS]||"",queries:es,pathname:"/".concat(e_?"boost":"search").concat(eJ?"/".concat(encodeURIComponent(null==eG?void 0:null===(el=eG.spellcheck_result)||void 0===el?void 0:el.suggested_key)):(null==en?void 0:en.length)?"/".concat(encodeURIComponent(en)):"")}),e2&&eO&&!!eB&&!eb&&(0,i.jsx)("div",{className:"seo-description",children:(0,i.jsx)(W.Z,{server:!0,children:(null==eg?void 0:eg.length)>0&&(0,i.jsxs)(M.Z,{as:"h1",children:[!!ev&&(0,i.jsx)(M.Z,{$family:"medium",children:ev}),eg]})})}),e7&&!(null==et?void 0:et.premium)&&!O.y0.includes((null==et?void 0:et.rank)||"")&&!er&&!ea&&(!!(null==eD?void 0:eD.length)||ez&&eR)&&!e_&&(0,i.jsx)(G.Z,{style:li})]})]}),e7&&(0,i.jsx)(u.Z,{isCollapsed:eV,onCollapse:e1,sidebarState:eZ,className:"search-sidebar"}),!e7&&(0,i.jsx)(I.Z,{onClose:e5,open:em,pathSidebarState:eZ})]})]})}},98719:function(e,l,t){t.d(l,{S:function(){return h}});var i=t(85893),s=t(67294),n=t(83047),a=t(74309),o=t(84815),r=t(63727),d=t(83130),u=t(41501);let c=(e,l,t,i,s,n)=>({label:e,tag:l,key:t,searchOption:i,entity:s,...n}),h=function(e,l,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return"";if("search_placeholder"===i&&l&&a.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l])return a.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l];if(l){let i=Object.keys(e.widgets).map(l=>e.widgets[l]).find(e=>{let{widget_tag:t}=e;return t===l});return(null==i?void 0:i.title)||t&&e[t]||e.title_long||e.title}return t&&e[t]||e.title_long||e.title};l.Z=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",{queries:t,path:g}=(0,u.Z)(),v=g.startsWith("/create/search"),p=(0,s.useMemo)(()=>new o.Z(t[n.Z.WEB.PATH]),[t]),{filterGroups:m=[]}=(0,d.Z)(),f=s.useMemo(()=>{if("header"===l)return[];let e=t[n.Z.IMAGE.TAGS]?t[n.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if(t[n.Z.WEB.PATH]){let l=[...p.getFilters("tag","tags_or","color").map(e=>e.value),...p.getFilters("tags_or").map(e=>e.valueArray()).flat()];e.push(...l.map(e=>String(e))),p.getFilter("hearted")&&e.push(a.LIKES_TAG)}return(t[n.Z.IMAGE.TAGS_OR]&&e.push(...t[n.Z.IMAGE.TAGS_OR].split(",")),t[n.Z.COMMON.FLAGGED_BY]&&e.push(a.LIKES_TAG),e.length)?m.reduce((e,l)=>[...e,...l.filters],[]).map(l=>{if("sizes"===l.tag){let l=r.Z.find(l=>e.includes(l.tag));if(l)return{...l,published:!0}}return l}).filter(l=>l.published&&(e.includes(l.tag)||"sizes"===l.tag&&r.Z.some(l=>e.includes(l.tag)))):[]},[m,t,l,p]);return s.useMemo(()=>{let s=[];if(e){let l=h(e,null,null,"search_placeholder");s.push(c(l,e.tag,"".concat(e.type,"-").concat(e.tag),v?1:0,e))}if(f.length&&f.forEach(e=>{s.push(c(e.name,e.tag,"".concat(e.name,"-").concat(e.tag),v?1:0,null,{filter:!0}))}),"header"!==l){var a,o,r;let e=t[n.Z.IMAGE.COLOR]||(null===(a=p.getFilter("color"))||void 0===a?void 0:a.value);e&&(null===(r=e.toString)||void 0===r?void 0:null===(o=r.call(e))||void 0===o?void 0:o.length)&&s.push(c((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:e}}),"Color"]}),null,"colorTag-"+e.toString().replace("#",""),v?1:0,null,{filter:!0}))}return{placeholders:{},searchTags:s.filter((e,l,t)=>{if(t.findIndex(l=>l.tag===e.tag)===l)return!0}).slice(0,20)}},[e,f,t,l,v,p])}}}]);