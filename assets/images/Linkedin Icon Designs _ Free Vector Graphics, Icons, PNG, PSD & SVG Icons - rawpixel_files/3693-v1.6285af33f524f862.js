"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3693,9498],{70719:function(e,o,t){t.d(o,{Z:function(){return y}});var n=t(85893),l=t(93967),s=t.n(l),i=t(45697),a=t.n(i),r=t(67294),c=t(82907),p=t(75597),d=t(62252),u=t(42180),v=t(54032),h=t(50223),m=t(35456),b=t(96849),g=t(28082),x=t(29688),j=t(55202),C=t(24730),f=t(44193),k=t(850);let w=r.memo(e=>{let{inSidebar:o,onSaveClick:t,isSavePopupOpen:l,saveStatus:i,onDotsMenuClick:a,onDeleteFromProjectClick:c,showDeleteFromProject:p,isMenuPopupOpen:u,showSave:v}=e,[h,m]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{m(!0)},[]),h)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.Z,{className:"overlay-buttons top left",children:(0,n.jsx)(f.Z,{$height:"18px",$padding:"2px 6px",$hoverColor:"purple",$hoverTextColor:"white",className:s()({active:u}),onClick:a.bind(null,!1),children:(0,n.jsx)(d.bb,{$margin:"0",$fontSize:"12px"})})}),(0,n.jsx)(C.Z,{className:"overlay-buttons top left mobile-only",children:(0,n.jsx)(f.Z,{$height:"24px",$padding:"2px 10px",$hoverColor:"purple",$hoverTextColor:"white",className:s()({active:u}),onClick:a.bind(null,!0),children:(0,n.jsx)(d.bb,{$margin:"0",$fontSize:"16px"})})}),!o&&(0,n.jsxs)(C.Z,{className:"overlay-buttons bottom left",children:[v&&(0,n.jsx)(k.Z,{className:"save",$width:"52px",$hoverColor:"purple",$hoverTextColor:"white",active:l,status:i,onClick:t}),p&&(0,n.jsx)(f.Z,{onClick:c,children:(0,n.jsx)(j.c,{i18nKey:"designteaser-001",children:"Remove"})})]})]}):null});w.displayName="DesignTeaserOverlay",w.propTypes={inSidebar:a().bool,onSaveClick:a().func,isSavePopupOpen:a().bool,saveStatus:a().string,isMenuPopupOpen:a().bool,onDotsMenuClick:a().func,onDeleteFromProjectClick:a().func,showDeleteFromProject:a().bool,showSave:a().bool};let S=e=>{var o,t,l,i;let{image:a,project:x,onClick:j,inSidebar:C,onSaveClick:f,onDotsMenuClick:k,onDeleteFromProjectClick:S,showDeleteFromProject:y,isMenuPopupOpen:$,isSavePopupOpen:P,saveStatus:Z,showSave:N,showWatermarkStatus:O=!1,readOnly:D=!1}=e,{name:T,alias:M,deleted:F}=a,_=!!x,I=!C&&!_&&!!T,[E,z]=(0,c.pF)(a.width,a.height,a.units),L=(0,r.useRef)(),{src:R}=(0,b.Z)(null===(t=a.images)||void 0===t?void 0:null===(o=t.cover)||void 0===o?void 0:o.style_uri,null===(l=a.images)||void 0===l?void 0:l.cover,L),A=(0,r.useCallback)(e=>{f(e,a,C?{showInfo:!0,showArrow:!1,placement:"bottom-start"}:{},x)},[a,f,C,x]),U=(0,r.useCallback)((e,o)=>{k(o,a,x,{enableSaving:!F&&(e||C),inSidebar:C})},[a,k,x,C,F]),G=(0,r.useCallback)(e=>{S(e,a,"project")},[S,a]),B=(0,r.useCallback)(e=>{j&&(C?j(e):j(a,R,e))},[j,a,R,C]),K=!D&&!F,q=(0,r.useMemo)(()=>({paddingBottom:"".concat(z/E*100,"%"),opacity:(null==a?void 0:a.is_new)?.7:1}),[E,z,null==a?void 0:a.is_new]);return(0,n.jsxs)(p.Z,{ref:L,$rounded:!C,$hasCaption:I,"data-testid":!C&&(null==a?void 0:a.id)?"".concat(m.ItemTypes.DESIGN,"-").concat(a.id):void 0,children:[(0,n.jsxs)("div",{className:s()("image-wrapper design-image-wrapper",{"is-popup-active":P||$}),style:q,itemScope:!0,itemType:"https://schema.org/ImageObject",typeof:"ImageObject",children:[(0,n.jsx)(v.Z,{condition:!a.is_new&&K,onClick:K?B:void 0,to:K?"".concat(M).concat(C?"":"?path=home.tab-my_designs"):void 0,target:K&&!C?"_blank":null,children:(0,n.jsx)(u.Z,{alt:T,width:E,height:z,srcSet:R||void 0,src:R||void 0,className:"teaser-image drag-preview",draggable:C&&!F?"":"false"})}),!D&&(0,n.jsx)(w,{inSidebar:C,onDotsMenuClick:U,isMenuPopupOpen:$,onSaveClick:A,isSavePopupOpen:P,saveStatus:Z,onDeleteFromProjectClick:G,showDeleteFromProject:y,showSave:N}),O&&(null===(i=a.designInfos)||void 0===i?void 0:i.has_watermark)&&(0,n.jsx)(d.zM,{$color:"equator",$fontSize:"18px",className:"watermarked-status"})]}),I&&(0,n.jsx)(v.Z,{className:"image-caption design-caption",condition:!a.is_new&&K,onClick:K?B:void 0,to:K?"".concat(M).concat(C?"":"?path=home.tab-my_designs"):void 0,target:K&&!C?"_blank":null,children:(0,n.jsx)(h.Z,{$fontSize:"16px",children:(0,n.jsx)(g.Z,{user:!0,children:T})})})]})};S.propTypes={image:x.co,project:x.iV,onClick:a().func,$rounded:a().bool,showTitle:a().bool,inSidebar:a().bool,onSaveClick:a().func,onDotsMenuClick:a().func,onDeleteFromProjectClick:a().func,showDeleteFromProject:a().bool,isSavePopupOpen:a().bool,isMenuPopupOpen:a().bool,saveStatus:a().string,showSave:a().bool};var y=S},59498:function(e,o,t){t.d(o,{Z:function(){return w}});var n=t(85893),l=t(93967),s=t.n(l),i=t(45697),a=t.n(i),r=t(67294),c=t(35456),p=t(75597),d=t(42180),u=t(54032),v=t(96849),h=t(86692),m=t(62252),b=t(24730),g=t(44193),x=t(850),j=t(55202);let C=r.memo(e=>{let{inSidebar:o,onSaveClick:t,isSavePopupOpen:l,saveStatus:i,onDotsMenuClick:a,onDeleteFromProjectClick:c,showDeleteFromProject:p,isMenuPopupOpen:d,showSave:u}=e,[v,h]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{h(!0)},[]),v)?(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.Z,{className:"overlay-buttons top left",children:(0,n.jsx)(g.Z,{$height:"18px",$padding:"2px 6px",$hoverColor:"purple",$hoverTextColor:"white",className:s()({active:d}),onClick:a.bind(null,!1),children:(0,n.jsx)(m.bb,{$margin:"0",$fontSize:"12px"})})}),(0,n.jsx)(b.Z,{className:"overlay-buttons top left mobile-only",children:(0,n.jsx)(g.Z,{$height:"24px",$padding:"2px 10px",$hoverColor:"purple",$hoverTextColor:"white",className:s()({active:d}),onClick:a.bind(null,!0),children:(0,n.jsx)(m.bb,{$margin:"0",$fontSize:"16px"})})})]}),!o&&(0,n.jsxs)(b.Z,{className:"overlay-buttons bottom left",children:[u&&(0,n.jsx)(x.Z,{className:"save",$width:"52px",$hoverColor:"purple",$hoverTextColor:"white",active:l,status:i,onClick:t}),p&&(0,n.jsx)(g.Z,{onClick:c,children:(0,n.jsx)(j.c,{i18nKey:"uploadteaser-001",children:"Remove"})})]})]}):null});C.displayName="UploadTeaserOverlay",C.propTypes={inSidebar:a().bool,onSaveClick:a().func,isSavePopupOpen:a().bool,isMenuPopupOpen:a().bool,onDotsMenuClick:a().func,onDeleteFromProjectClick:a().func,saveStatus:a().oneOf(h.E),showDeleteFromProject:a().bool,showSave:a().bool};let f={useTransparentPng:!0},k=e=>{var o,t;let{image:l,project:i,onClick:a,onSaveClick:h,saveStatus:m,isSavePopupOpen:b,inSidebar:g,onDotsMenuClick:x,onDeleteFromProjectClick:j,showDeleteFromProject:k,isMenuPopupOpen:w,showSave:S}=e,{id:y,uid:$,name:P,width:Z,height:N,style_uri:O,filename:D,deleted:T}=l,M=r.useRef(),F=(null==D?void 0:D.length)?null===(o=D.split(".").pop())||void 0===o?void 0:o.toLowerCase():"png",{src:_}=(0,v.Z)(O,l,M,"style_uri",f),I=(0,r.useCallback)(e=>{h(e,l,g?{showInfo:!0,showArrow:!1,placement:"bottom-start"}:null)},[l,h,g]),E=(0,r.useCallback)((e,o)=>{x(o,l,i,{enableSaving:!T&&(e||g),inSidebar:g})},[x,l,i,g,T]),z=(0,r.useCallback)(e=>{j(e,l,"project")},[j,l]),L=(0,r.useMemo)(()=>({paddingBottom:"".concat(N/Z*100,"%")}),[N,Z]),R=!!(null===(t=l.imgPlaceholder)||void 0===t?void 0:t.src)&&!O,A=(0,r.useMemo)(()=>({opacity:.3}),[]);return(0,n.jsx)(p.Z,{ref:M,className:s()("upload-teaser",{png:"png"===F}),"data-testid":!g&&(null==l?void 0:l.id)?"".concat(c.ItemTypes.UPLOAD,"-").concat(l.id):void 0,children:(0,n.jsxs)("div",{className:s()("image-wrapper",{"is-popup-active":b||w}),style:L,itemScope:!0,itemType:"https://schema.org/ImageObject",typeof:"ImageObject",children:[(0,n.jsxs)(u.Z,{condition:!T&&!R,onClick:g&&!T&&a&&!R?a.bind(void 0,l):void 0,to:T||g||R?void 0:"/uploads/".concat($,"/").concat(y),children:[!!O&&(0,n.jsx)(d.Z,{crossOrigin:"anonymous",alt:P,width:Z,height:N,srcSet:_||void 0,src:_||void 0,className:"teaser-image drag-preview"}),!!R&&(0,n.jsx)("img",{alt:"",crossOrigin:"anonymous",src:l.imgPlaceholder.src,width:Z,height:N,className:"teaser-image drag-preview",onLoad:()=>{URL.revokeObjectURL(l.imgPlaceholder.src)},style:A})]}),!R&&(0,n.jsx)(C,{onSaveClick:I,isSavePopupOpen:b,inSidebar:g,saveStatus:m,onDotsMenuClick:E,onDeleteFromProjectClick:z,isMenuPopupOpen:w,showDeleteFromProject:k,showSave:S})]})})};k.propTypes={image:a().any,onClick:a().func,inSidebar:a().bool,onSaveClick:a().func,isSavePopupOpen:a().bool,saveStatus:a().oneOf(h.E),isMenuPopupOpen:a().bool,onDotsMenuClick:a().func,onDeleteFromProjectClick:a().func,showDeleteFromProject:a().bool,showSave:a().bool};var w=k},35456:function(e,o,t){t.d(o,{ItemTypes:function(){return n}});let n=Object.freeze({IMAGE:"image",UPLOAD:"upload",DESIGN:"design"})}}]);